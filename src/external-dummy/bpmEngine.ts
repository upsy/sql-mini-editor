import { BPMEngine } from "@/types";

const queryResultsData = JSON.stringify([{"name": "Griffith May", "phone": "(752) 572-4442", "email": "consectetuer.cursus@aol.couk", "country": "Norway" }, {"name": "May Mckay", "phone": "(703) 534-6131", "email": "orci.in@hotmail.edu", "country": "Netherlands" }, {"name": "Rina Blankenship", "phone": "1-277-335-9165", "email": "consectetuer.adipiscing@protonmail.org", "country": "India" }, {"name": "Wallace Carey", "phone": "1-748-599-2764", "email": "lacus@icloud.edu", "country": "Canada" }, {"name": "Aurora Estes", "phone": "1-597-667-6352", "email": "fermentum.metus@protonmail.com", "country": "China" }, {"name": "Holmes Wagner", "phone": "1-741-462-8651", "email": "at.fringilla@hotmail.net", "country": "Philippines" }, {"name": "Hedley O'donnell", "phone": "1-729-248-7767", "email": "nunc.quisque.ornare@hotmail.com", "country": "France" }, {"name": "Kerry Conner", "phone": "(413) 685-2406", "email": "scelerisque.neque.sed@hotmail.couk", "country": "Colombia" }, {"name": "Lavinia Nielsen", "phone": "1-868-116-6434", "email": "euismod.in@icloud.edu", "country": "Poland" }, {"name": "Jonah Cook", "phone": "1-154-592-8608", "email": "eu.erat@protonmail.edu", "country": "Chile" }, {"name": "Whilemina Solomon", "phone": "(921) 233-1016", "email": "lectus@icloud.ca", "country": "China" }, {"name": "Harrison Hopper", "phone": "(818) 526-7336", "email": "lacus@icloud.net", "country": "Vietnam" }, {"name": "Xander Roy", "phone": "1-542-964-5827", "email": "nulla.dignissim@aol.ca", "country": "Ukraine" }, {"name": "Henry Weeks", "phone": "1-683-877-9523", "email": "pellentesque.habitant@yahoo.ca", "country": "Italy" }, {"name": "Latifah Beasley", "phone": "(554) 801-3344", "email": "phasellus.elit@yahoo.org", "country": "Ukraine" }, {"name": "Seth Hurley", "phone": "1-672-555-4442", "email": "odio.a@yahoo.net", "country": "Vietnam" }, {"name": "Idola Scott", "phone": "(972) 710-9687", "email": "orci@aol.net", "country": "Indonesia" }, {"name": "Ella Carey", "phone": "1-557-373-4488", "email": "a.odio.semper@protonmail.com", "country": "Ireland" }, {"name": "Daryl Townsend", "phone": "1-251-862-2218", "email": "ipsum.curabitur@yahoo.org", "country": "Brazil" }, {"name": "Prescott Guthrie", "phone": "(811) 667-1591", "email": "ultrices.a@yahoo.ca", "country": "Belgium" }, {"name": "Asher Padilla", "phone": "(220) 688-2478", "email": "ullamcorper.velit@protonmail.com", "country": "Vietnam" }, {"name": "Sharon Fletcher", "phone": "1-454-377-8017", "email": "auctor.velit@outlook.org", "country": "Belgium" }, {"name": "Amanda Atkinson", "phone": "(882) 687-8878", "email": "sit@google.org", "country": "Ukraine" }, {"name": "Cain Dean", "phone": "(612) 867-3613", "email": "diam.luctus@yahoo.org", "country": "Chile" }, {"name": "Justina Holmes", "phone": "(618) 456-2978", "email": "dignissim@yahoo.com", "country": "Singapore" }, {"name": "Tate Benson", "phone": "1-785-522-6847", "email": "luctus.ut.pellentesque@protonmail.net", "country": "Chile" }, {"name": "Oscar Cross", "phone": "1-279-488-4174", "email": "dictum.magna@aol.edu", "country": "China" }, {"name": "Ryder Clark", "phone": "(974) 518-6375", "email": "vitae.posuere@outlook.com", "country": "United Kingdom" }, {"name": "Linda Cummings", "phone": "(285) 777-0854", "email": "nam.nulla@protonmail.net", "country": "Philippines" }, {"name": "Anastasia Murphy", "phone": "1-343-562-0726", "email": "tempor@aol.org", "country": "Peru" }, {"name": "Avram Barton", "phone": "(281) 388-1284", "email": "tortor.integer.aliquam@protonmail.org", "country": "France" }, {"name": "Mechelle Rasmussen", "phone": "1-854-464-3056", "email": "ac.urna@outlook.couk", "country": "Australia" }, {"name": "Deirdre Hampton", "phone": "(272) 383-8538", "email": "ultrices.posuere@yahoo.couk", "country": "United Kingdom" }, {"name": "Gannon Deleon", "phone": "1-363-795-0803", "email": "dignissim.magna.a@aol.net", "country": "Germany" }, {"name": "Reece Lowe", "phone": "(681) 712-9451", "email": "enim.sit@google.edu", "country": "Colombia" }, {"name": "Hunter May", "phone": "1-761-895-9152", "email": "ante@google.ca", "country": "Ireland" }, {"name": "Remedios Boyd", "phone": "(737) 833-2444", "email": "molestie.orci.tincidunt@hotmail.com", "country": "Colombia" }, {"name": "Kieran Hogan", "phone": "(655) 622-6672", "email": "lectus.quis.massa@outlook.net", "country": "United States" }, {"name": "Drake Dominguez", "phone": "1-873-861-8627", "email": "leo.morbi.neque@outlook.com", "country": "Turkey" }, {"name": "Rae Calhoun", "phone": "1-612-765-8449", "email": "libero.donec@icloud.net", "country": "South Korea" }, {"name": "Lilah Lopez", "phone": "1-738-167-3553", "email": "elit.pellentesque@google.edu", "country": "Canada" }, {"name": "Anastasia Wall", "phone": "1-882-728-3191", "email": "consectetuer.adipiscing@hotmail.org", "country": "Nigeria" }, {"name": "Iris Suarez", "phone": "(453) 543-0882", "email": "ligula.nullam@icloud.couk", "country": "Spain" }, {"name": "Honorato Ortiz", "phone": "(868) 866-6491", "email": "convallis.erat.eget@yahoo.org", "country": "Spain" }, {"name": "Hu Wyatt", "phone": "(486) 868-2948", "email": "sed.consequat.auctor@icloud.couk", "country": "Belgium" }, {"name": "Indira Solomon", "phone": "(395) 773-9756", "email": "id.magna@icloud.ca", "country": "Indonesia" }, {"name": "Shellie Bender", "phone": "1-328-889-2857", "email": "interdum@hotmail.couk", "country": "United Kingdom" }, {"name": "Callie Donovan", "phone": "(266) 670-5807", "email": "sed@protonmail.com", "country": "India" }, {"name": "Brynn Marks", "phone": "(134) 436-6282", "email": "nec.enim.nunc@google.ca", "country": "Nigeria" }, {"name": "Dahlia Kramer", "phone": "1-429-381-5765", "email": "mi.aliquam.gravida@google.net", "country": "Nigeria" }, {"name": "Nell Pugh", "phone": "1-487-465-9855", "email": "at.iaculis@yahoo.com", "country": "New Zealand" }, {"name": "Dante Garcia", "phone": "1-435-818-7213", "email": "convallis.est@aol.ca", "country": "China" }, {"name": "Winter Frazier", "phone": "1-624-158-9200", "email": "tellus.lorem@icloud.ca", "country": "Spain" }, {"name": "Destiny Allen", "phone": "(385) 746-2619", "email": "vel.vulputate@outlook.com", "country": "Colombia" }, {"name": "Candace Gray", "phone": "1-543-817-9264", "email": "condimentum.eget@hotmail.ca", "country": "United Kingdom" }, {"name": "Vance Graham", "phone": "1-466-542-4268", "email": "eget.massa@aol.ca", "country": "Sweden" }, {"name": "Geoffrey Foreman", "phone": "(773) 358-4711", "email": "volutpat.nunc@aol.ca", "country": "Sweden" }, {"name": "Leo Hansen", "phone": "1-232-503-2902", "email": "cubilia.curae@aol.couk", "country": "United States" }, {"name": "Yael Vazquez", "phone": "(759) 570-1271", "email": "duis@aol.edu", "country": "Austria" }, {"name": "Kessie Valencia", "phone": "(575) 895-6546", "email": "non.magna@icloud.net", "country": "Ukraine" }, {"name": "Kane Osborne", "phone": "1-422-421-2825", "email": "ut.erat.sed@google.ca", "country": "Netherlands" }, {"name": "Yeo Marshall", "phone": "(587) 578-8384", "email": "eu.dolor@icloud.edu", "country": "United States" }, {"name": "Joseph Macias", "phone": "(781) 304-4101", "email": "lorem@icloud.couk", "country": "Sweden" }, {"name": "Sopoline Burris", "phone": "1-762-536-2693", "email": "placerat@hotmail.org", "country": "Pakistan" }, {"name": "Branden Lyons", "phone": "1-388-235-7492", "email": "enim.etiam.imperdiet@google.edu", "country": "Colombia" }, {"name": "Levi Bowen", "phone": "1-384-650-2249", "email": "non.magna@outlook.com", "country": "Turkey" }, {"name": "Orson Hanson", "phone": "(447) 523-4432", "email": "in.lorem@hotmail.com", "country": "Pakistan" }, {"name": "Felix Mejia", "phone": "1-264-673-6914", "email": "at.sem@outlook.couk", "country": "Spain" }, {"name": "Len Reeves", "phone": "1-826-337-8488", "email": "risus@google.net", "country": "China" }, {"name": "Ruth Decker", "phone": "(581) 737-8212", "email": "maecenas.libero.est@icloud.com", "country": "Norway" }, {"name": "Quyn Lowe", "phone": "(352) 679-0212", "email": "nibh@icloud.org", "country": "Singapore" }, {"name": "Bree Kelly", "phone": "(767) 330-9472", "email": "id.mollis@aol.org", "country": "China" }, {"name": "Conan Brewer", "phone": "1-448-938-9617", "email": "sed.eget.lacus@protonmail.ca", "country": "Philippines" }, {"name": "Colette Marshall", "phone": "(557) 820-8186", "email": "lorem.luctus@hotmail.com", "country": "Brazil" }, {"name": "Hanae Burns", "phone": "(607) 141-6141", "email": "metus.facilisis@protonmail.net", "country": "Poland" }, {"name": "Jack Greer", "phone": "1-471-743-1062", "email": "sed.dictum@protonmail.org", "country": "Austria" }, {"name": "Arthur Lawson", "phone": "(216) 245-0114", "email": "lobortis@outlook.ca", "country": "Mexico" }, {"name": "Hedley Gibson", "phone": "1-533-441-2659", "email": "lacus.pede.sagittis@hotmail.com", "country": "Vietnam" }, {"name": "Tanner Hahn", "phone": "1-124-132-6580", "email": "morbi@aol.couk", "country": "Austria" }, {"name": "Nadine Witt", "phone": "1-864-487-9866", "email": "arcu.sed@aol.couk", "country": "France" }, {"name": "Eleanor Pennington", "phone": "1-375-973-8858", "email": "sit@aol.org", "country": "Mexico" }, {"name": "Dalton Henderson", "phone": "1-125-482-4471", "email": "ante.bibendum.ullamcorper@outlook.ca", "country": "Sweden" }, {"name": "Elijah Avery", "phone": "(552) 501-6043", "email": "sem.pellentesque@hotmail.net", "country": "Ireland" }, {"name": "Kennedy Love", "phone": "1-141-901-1627", "email": "sociis.natoque.penatibus@yahoo.net", "country": "France" }, {"name": "Audrey Miller", "phone": "(239) 218-2718", "email": "donec.non@icloud.edu", "country": "India" }, {"name": "Hiram Walton", "phone": "(259) 561-1622", "email": "vestibulum@protonmail.net", "country": "Spain" }, {"name": "Fitzgerald Warner", "phone": "1-326-561-4784", "email": "dui@hotmail.edu", "country": "Ireland" }, {"name": "Lee Berg", "phone": "(710) 727-6136", "email": "at.augue.id@hotmail.ca", "country": "Philippines" }, {"name": "Levi Hooper", "phone": "(431) 375-2217", "email": "magnis@yahoo.edu", "country": "United Kingdom" }, {"name": "Shafira Ruiz", "phone": "(559) 946-4425", "email": "velit@hotmail.net", "country": "Austria" }, {"name": "Rachel Noble", "phone": "(172) 732-6215", "email": "laoreet@yahoo.edu", "country": "Ireland" }, {"name": "Mary Reilly", "phone": "(776) 875-4617", "email": "enim.condimentum.eget@hotmail.com", "country": "Poland" }, {"name": "Indigo Barker", "phone": "1-905-575-1844", "email": "nulla.facilisi@aol.ca", "country": "Italy" }, {"name": "Sybill Chambers", "phone": "1-113-640-7119", "email": "mus.proin@google.com", "country": "Singapore" }, {"name": "Tobias Buckner", "phone": "1-400-552-2648", "email": "nibh.donec.est@outlook.com", "country": "Sweden" }, {"name": "Amanda Waters", "phone": "1-712-855-1184", "email": "molestie.tortor.nibh@aol.net", "country": "Pakistan" }, {"name": "Kadeem Stout", "phone": "(363) 889-3107", "email": "conubia.nostra@icloud.ca", "country": "Philippines" }, {"name": "Gemma Dixon", "phone": "(681) 499-8263", "email": "ut@outlook.net", "country": "Poland" }, {"name": "Cain Ruiz", "phone": "(788) 433-8752", "email": "molestie@google.com", "country": "Netherlands" }, {"name": "Ferris Sosa", "phone": "1-359-261-6403", "email": "consectetuer@icloud.edu", "country": "Canada" } ]);



const dbSchema = JSON.stringify([{
    tableName:"users",
    columns:[{name: "id", type: "varchar2"},{name: "name", type: "varchar2"},{name: "created_d", type: "date"},{name: "email", type: "varchar2"}]

}]);

export const bpmEngine:BPMEngine = {
    appendSecurityContext : (url:string)=>url,
    rewriteURI: (url:string)=>url,
    callAjaxService: (url:string, args:{params:string, load:(data:unknown)=>void, error: (e:Error)=>void})=>{
        console.log(">> callAjaxService", url, args);

        const inputObj = JSON.parse(args.params);
        let serverData:unknown;

        if (inputObj.action == 'RUN_QUERY'){
            serverData={
                message:"Query run succesfully!",
                ok:true,
                resultJSON:`{"queryResults":${queryResultsData}, "savedQuery":{"query":"${JSON.parse(inputObj.payload).newSqlQuery}", "created_d":"2024-08-16", "user_id":"diatan"}}`,
                

            }
        }

        if (inputObj.action == 'FETCH_DB_SCHEMA'){
            serverData={
                message:"DB schema retrieved!",
                ok:true,
                resultJSON:`{"dbSchema":${dbSchema}}`
                
            }
        }

        if (inputObj.action == 'FETCH_ALL_QUERIES'){
            serverData={
                message:"Historical queries retrieved!",
                ok:true,
                resultJSON:'{"allQueries":[{"query": "select * from users", "created_d":"2024-08-14", "user_id":"diatan"}]}'
                
            }
        }

        setTimeout(()=>{
            console.log(">> serving ", serverData);
            args.load(serverData);
        }, 500)
    }
}